CREATE DATABASE pseudocodigo;
USE pseudocodigo;

ALTER TABLE temas ADD COLUMN imagen VARCHAR(255);
UPDATE temas SET imagen = 'css/img/imagen1.jpg' WHERE id = 1;
UPDATE temas SET imagen = 'css/img/imagen2.jpg' WHERE id = 2;
UPDATE temas SET imagen = 'css/img/imagen3.jpg' WHERE id = 3;
UPDATE temas SET imagen = 'css/img/imagen4.jpg' WHERE id = 4;

-- Tabla de usuarios
CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50),
    email VARCHAR(100) UNIQUE,
    password VARCHAR(255)
);

CREATE TABLE temas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    bloqueado TINYINT DEFAULT 0
);


CREATE TABLE lecciones (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_tema INT,
    titulo VARCHAR(100),
    teoria TEXT,
    ejercicio TEXT,
    FOREIGN KEY (id_tema) REFERENCES temas(id)
);

CREATE TABLE progreso_leccion (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    id_leccion INT,
    completado TINYINT DEFAULT 0,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id),
    FOREIGN KEY (id_leccion) REFERENCES lecciones(id)
);

-- Insertar usuario de prueba (password: 1234)
INSERT INTO usuarios (nombre, email, password) 
VALUES ('Juan Pérez', 'juan@test.com', MD5('1234'));

INSERT INTO temas (nombre, descripcion) VALUES
('Tema 1: Introducción al Pseudocódigo', 'Aprende qué es el pseudocódigo y cómo estructurar un algoritmo.'),
('Tema 2: Estructuras Secuenciales', 'Ejecuta instrucciones en orden.'),
('Tema 3: Condicionales', 'Usa SI...ENTONCES...SINO para tomar decisiones.'),
('Tema 4: Bucles', 'Repite acciones con MIENTRAS, REPETIR o PARA.');

INSERT INTO lecciones (id_tema, titulo, teoria, ejercicio) VALUES
(1, 'Variables y Tipos de Datos', 'Una variable almacena información...', 'Declara una variable llamada edad.'),
(1, 'Entrada y Salida', 'El pseudocódigo usa LEER y ESCRIBIR...', 'Muestra un mensaje de bienvenida usando ESCRIBIR.'),
(1, 'Operadores Aritméticos', 'Sirven para realizar cálculos...', 'Suma dos números y muestra el resultado.');


